#
# Various aliases
#

alias d='wget -c'
alias die='kill -9'
alias edit=$EDITOR
alias whereami='echo "${USER}@$(hostname | sed s/\.local$//):$(pwd)"'
alias df='df -h'
alias more='less -im'
alias mv='mv -i'
alias rm='rm -i'
alias grep='grep -E --color=auto'

[[ "$(basename $SHELL)" = "bash" ]] && alias ?=calc

# Use 256 colors for tmux
if [ $(am_i_installed tmux) -eq 1 ]
then
    alias tmux="TERM=xterm-256color tmux"
    # Avoid weird errors when ssh'ing into remote servers that don't
    # have 256 color support installed
    alias ssh="TERM=xterm-color ssh"
    # prefer tmux over screen
    alias screen=tmux
fi

alias vagrant="TMPDIR=${HOME}/.vagrant.d/tmp vagrant"

case "$(uname -s)" in
    Darwin)
        alias top='top -s 1 -ca -o cpu'
        alias lsmod=kextstat
        alias modprobe=kextload
        alias rmmod=kextunload
        alias crontab="VIM_CRONTAB=true crontab"

        [ $(am_i_installed gzcat) -eq 1 ] && alias zcat=gzcat
        [ $(am_i_installed 7za) -eq 1 ]   && alias 7z=7za

        if [ $(am_i_installed brew) -eq 1 ]
        then
            HOMEBREW_PREFIX=$(brew --prefix)
            alias ls="${HOMEBREW_PREFIX}/bin/gls --color=auto --group-directories-first"
            alias sed="${HOMEBREW_PREFIX}/bin/gsed"
            alias seq="${HOMEBREW_PREFIX}/bin/gseq"
            alias wc="${HOMEBREW_PREFIX}/bin/gwc"
            alias git="${HOMEBREW_PREFIX}/bin/git"
        fi
        ;;

    Linux)
        # ls: Group directories if ls has the capability
        man ls | col -bx | grep '\-\-group\-directories\-first' >/dev/null
        test $? && alias ls='ls --color=auto --group-directories-first'
        ;;
esac

if [ $(am_i_installed git) -eq 1 ]
then
    alias gs='git status'
    alias gh='git hist'
    alias gl='git log'
    alias gc='git commit'
    alias ga='git add'
    alias gm='git merge'
    alias gp='git push'
    alias gfo='git fetch origin'
    alias gpo='git push origin'

    # merge origin branch
    function gmo() {
        test -z $1 && return 1
        git merge origin/$1
    }
fi

