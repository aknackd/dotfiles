
#
# Various aliases
#

alias d='wget -c'
alias die='kill -9'
alias edit=$EDITOR
alias whereami='echo "${USER}@$(hostname | sed s/\.local$//):$(pwd)"'
alias df='df -h'
alias more='less -im'
alias mv='mv -i'
alias rm='rm -i'
alias grep='grep -E --color=auto'

[[ "$(basename $SHELL)" = "bash" ]] && alias ?=calc

# Use 256 colors for tmux
if [ $(am_i_installed tmux) -eq 1 ]
then
    alias tmux="TERM=xterm-256color tmux"
    # Avoid weird errors when ssh'ing into remote servers that don't
    # have 256 color support installed
    alias ssh="TERM=xterm-color ssh"
    # prefer tmux over screen
    alias screen=tmux
fi

case "$(uname -s)" in
    Darwin)
        alias top='top -s 1 -ca -o cpu'
        alias lsmod=kextstat
        alias modprobe=kextload
        alias rmmod=kextunload
        alias crontab="VIM_CRONTAB=true crontab"

        [ $(am_i_installed gzcat) -eq 1 ] && alias zcat=gzcat
        [ $(am_i_installed 7za) -eq 1 ]   && alias 7z=7za

        if [ $(am_i_installed brew) -eq 1 ]
        then
            HOMEBREW_PREFIX=$(brew --prefix)

            # coreutil aliases
            brew list | grep coreutils >/dev/null
            if [ $? -eq 0 ]
            then
                alias ls="${HOMEBREW_PREFIX}/bin/gls --color=auto --group-directories-first"
                alias seq="${HOMEBREW_PREFIX}/bin/gseq"
                alias wc="${HOMEBREW_PREFIX}/bin/gwc"
                alias du="${HOMEBREW_PREFIX}/bin/gdu"
                alias df="${HOMEBREW_PREFIX}/bin/df"
                alias sha1sum="${HOMEBREW_PREFIX}/bin/gsha1sum"
                alias sha244sum="${HOMEBREW_PREFIX}/bin/gsha244sum"
                alias sha256sum="${HOMEBREW_PREFIX}/bin/gsha256sum"
                alias sha384sum="${HOMEBREW_PREFIX}/bin/gsha384sum"
                alias sha512sum="${HOMEBREW_PREFIX}/bin/gsha512sum"
            fi

            # use GNU sed
            brew list | grep gnu-sed >/dev/null
            [ $? -eq 0 ] && alias sed="${HOMEBREW_PREFIX}/bin/gsed"

            # git
            brew list | grep '^git$' >/dev/null
            [ $? -eq 0 ] && alias git="${HOMEBREW_PREFIX}/bin/git"
        fi
        ;;

    Linux)
        # ls: Group directories if ls has the capability
        man ls | col -bx | grep '\-\-group\-directories\-first' >/dev/null
        test $? && alias ls='ls --color=auto --group-directories-first'
        ;;
esac

# git aliases
if [ $(am_i_installed git) -eq 1 ]
then
    alias gs='git status'
    alias gh='git hist | cat -'
    alias gl='git log'
    alias gc='git commit'
    alias gco='git checkout'
    alias ga='git add'
    alias gm='git merge'
    alias gp='git push'
    alias gr='git reset'
    alias gfo='git fetch origin'
    alias gpo='git push origin'

    # merge origin branch
    function gmo() {
        test -z $1 && return 1
        git merge origin/$1
    }
fi

# vagrant aliases
if [ $(am_i_installed vagrant) -eq 1 ]
then
    alias vagrant="TMPDIR=${HOME}/.vagrant.d/tmp vagrant"
    alias vinit='vagrant init'
    alias vba='vagrant box add'
    alias vbrm='vagrant box remove'
    alias vbu='vagrant box update'
    alias vbls='vagrant box list'
    alias vup='vagrant up'
    alias vh='vagrant halt'
    alias vd='vagrant destroy -f'
    alias vssh='vagrant ssh'
    alias vr='vagrant reload'
    alias vp='vagrant provision'
    alias vps='vagrant provision --provision-with shell'
    alias vpp='vagrant provision --provision-woth puppet'
    alias vpd='vagrant provision --provision-with docker'
    alias vpl='vagrant plugin list'
    alias vpi='vagrant plugin install'
    alias vprm='vagrant plugin uninstall'
    alias vpu='vagrant plugin update'
    alias vs='vagrant status'
    alias vgs='vagrant global-status'

fi

